#define REVISION "$Revision: 1.45 $ $Date: 2004-03-17 11:34:16 $"

/*
 -[ history ]---------------------------------------
  $Id: change.log,v 1.45 2004-03-17 11:34:16 peter Exp $
  ! и v - испpавлена ошибка
       - небольшое изменение
      ¦ - новая возможность

 -[ 03-03-18 v0-0-1]--------------------------------
 начинаем проект на msp
 -[ 03-03-20 v0-0-2]--------------------------------
 режим c низким потреблением заработал
 -[ 03-03-21 v0-0-3]--------------------------------
 с частотой дискретизации 1400 Гц потребление 270мкА
 -[ 03-03-21 v0-0-4]--------------------------------
 АЦП в постоянном преобразовании 1 mA
 какая-то ошибка в switch - не выходит на второй case
 -[ 03-03-23 v0-0-5]--------------------------------
 добавил процедуры для последовательного порта
 -[ 03-03-26 v0-0-6]--------------------------------
 в таком виде программа глючит (проходит через сброс)
 -[ 03-03-26 v0-0-7]--------------------------------
 продолжаем кодирование - 
 переключение на разные режимы дисплея
 -[ 03-03-28 v0-0-8]--------------------------------
 разделил на файлы - функциональные модули
 показывает
 1) минуты, секунды
 2) часы, минуты
 3) абсолютное значение A0
 4) температура с десятыми долями градуса
 -[ 03-04-03 v0-0-9]--------------------------------
 добавил в репозитарий компилятор командной строки ASM,C
 и линкер
 -[ 03-04-29 v0-0-10]--------------------------------
 протокол связи с прибором описываю
 -[ 03-04-30 v0-0-11]--------------------------------
 добавил описание одного пакета типа 3
 -[ 03-05-07 v0-0-12]--------------------------------
 рыбу для передачи написал, необходим еще подсчет CRC16
 -[ 03-05-13 v0-0-13]--------------------------------
 немного изменилась логика работы с флагом передачи по UART
 на эмуляторе по UART передача идет
 обмен с дисплеем переписал на программный SPI (1), так
 как аппаратно прерывание отдал UART(1)
 -[ 03-05-14 v0-0-14]--------------------------------
 в первом приближении все узлы работают, осталось проверить
 ШИМ и при возможности компаратор.
 -[ 03-05-16 v0-0-15]--------------------------------
 пакеты на стороне PC принимаются - ошибки CRC?
 -[ 03-05-16 v0-0-16]--------------------------------
 добавил высылку ESC символов
 -[ 03-05-21 v0-0-17]--------------------------------
 пока, для пробы, 10 раз в секунду отсылаю пакеты
 -[ 03-05-21 v0-0-18]--------------------------------
 оптимизировал условия по "запуску" задач (в idle цикле)
 всегда будем стараться побыстрее "уснуть"
 -[ 03-05-22 v0-0-19]--------------------------------
 рассчитал количество тактов часового кварца относительно
 внутреннего генератора.
 Включил WatchDog и проверку его срабатывания при 
 включении.
 -[ 03-05-22 v0-0-20]--------------------------------
 таймерное прерывание необходимо "поделить" на многоцелевое
 добавил более длительную проверку запуска часового кварца
 -[ 03-05-23 v0-0-21]--------------------------------
 при запуске часового кварца на дисплей отображается
 ACL и номер цикла запуска
 -[ 03-05-26 v0-0-22]--------------------------------
 запуск ADC сделал от CCR1
 при медленном тактировании таймера A и очень 
 ресурсообжирающих IDLE операций необходимо вставить проверку
 OVERFLOW таймера
 во все прерывания и idle операций ухода в спячку добавил
 учет всего процессорного времени и отправку его по UART
 -[ 03-05-28 v0-0-23]--------------------------------
 врет статистика
 -[ 03-05-28 v0-0-24]--------------------------------
 добавил отправку статистики о состоянии фифошек
 -[ 03-06-02 v0-0-25]--------------------------------
 ищем источник помехи в стенде
 -[ 03-06-02 v0-0-26]--------------------------------
 написал приемный протокол - необходимо добавить обработку данных
 -[ 03-06-06 v0-0-27]--------------------------------
 разношу проекты на разные файлы
 -[ 03-06-09 v0-0-28]--------------------------------
 написал в стенде пакетную передачу просуммированных отчетов
 с датчиков
 -[ 03-06-10 v0-0-29]--------------------------------
 стендовая пакетная передача отлажена - работает
 -[ 03-06-17 v0-0-30]--------------------------------
 обновил документацию
 -[ 03-06-18 v0-0-31]--------------------------------
 две новые команды:
  case 0x0D:    //спустить давление до требуемой величины
  case 0x0E:    //накачать давление до указанной величины
 -[ 03-06-23 v0-0-32]--------------------------------
 переделал мультиплексор
 -[ 03-06-23 v0-0-33]--------------------------------
 в пакете 0x0A вывод температуры
 -[ 03-10-15 v0-0-34]--------------------------------
 увеличиваю количество каналов в пакетном режиме, 
 ищу ошибки реализации переполнения очередей
 добавил файл документации на стенд
 -[ 03-10-15 v0-0-35]--------------------------------
 обязательно написать оценку переполнения фифошек
 -[ 03-10-17 v0-0-36]--------------------------------
 сделал:
  - управление запуском/выключением АЦП
  - управление запуском/выключением USART
 -[ 03-10-17 v0-0-37]--------------------------------
 при выключении аналогового питания необходимо "обесточивать"
 ЦАП и мультиплексор
 -[ 03-11-03 v0-0-38]--------------------------------
 1A - пакет содержащий данные о коррекции температуры
 данного стенда, высылается из стенда при включении
 выдачи температуры (1 раз/сек)
 _________________________________________________________________
 0x1A     Данные коррекции температуры (раз в секунду)
     содержание пакета:
      2 байта - наклон
      2 байта - смещение
      2 байта - значение АЦП (первая точка)
      2 байта - значение температуры умноженное на 100 (первая точка)
      2 байта - значение АЦП (вторая точка)
      2 байта - значение температуры умноженное на 100 (вторая точка)

 -[ 04-01-30 v0-0-39]--------------------------------
 создал структуру каталогов для компиляции из коммандной строки

 -[ 04-03-08 v0-1 ]--------------------------------
 разделил функции по файлам для удобства создания платформонезависимых
 исходных файлов
 crc16.c и crc.h        - подсчет контрольной суммы
 uart_p.c и uart_p.h    - модуль для работы с пакетами
 uart_s.c               - работа с последовательным портом для стенда
 m149.h                 - макросы ("inline" Си функции) для работы с MSP430F149

 всю подобного рода информацию помещаю в moduls.txt
 -[ 04-03-10 v0-2 ]--------------------------------
 подправил проект в IAR
 -[ 04-03-10 v0-3 ]--------------------------------
 начал писать loader
 -[ 04-03-10 v0-4 ]--------------------------------
 набросал "рыбу" и документацию для загрузчика
*/